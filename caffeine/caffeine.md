### 缓存技术

应用缓存方式构架

![1609985765969](..\..\xiaoyi_study\resource\缓存方式构架系统.png)



缓存使用：

1. 有选择的缓存数据
2. 分类缓存，设定缓存时长

#### 一、缓存

定义：将持久化的数据存放到内存副本中，用以提高并发，提高读取速度

特点：基于内存操作、空间换时间、降低瓶颈操作、减少对外依赖

##### 1、每层缓存的解决方案：

1. 应用层--浏览器

   解决方案：浏览器缓存、本地缓存

   缓存技术：http缓存协商、cookie、sqllite、websql

2. 网络层---网络路由

   解决方案：CDN

   缓存技术：Squid

3. 负载层---NGINX、Apache

   解决方案：动静分离、反向代理

   缓存技术：基于http服务器

4. 服务层---java应用、php应用

   解决方案：页面静态化、应用缓存、分布式缓存、Mybatis缓存

   缓存技术：freemarker、velocity、theamleaf   |   ehcache、guava、caffeine、jodd |  redis、memcache   |  mybatis 一、二级缓存

5. 数据库--- oracle、MySQL

   解决方案：缓冲区、buffer pool

   缓存技术：数据库缓存机制

##### 2、本地缓存与分布式缓存对比

![1609986720451](..\resource\本地缓存与分布式缓存.png)

##### 3、每层缓存时间对比

![1609986814794](..\resource\每层缓存时间实验.png)

##### 4、一般系统缓存构架

![1609986982445](..\resource\一般系统缓存构架.png)



#### 二、本地缓存

##### 1. 本地缓存技术对比

![1609987134992](..\resource\本地缓存技术对比.png)

##### 2. 分布式应用缓存技术对比

![1609987229084](..\resource\分布式缓存对比.png)

 

#### 三、Spring Cache 

原理：spring aop 编程

